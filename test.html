<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>EventQueue Test Page</title>
<script src="q.js" type"text/javascript"></script>
<script type="text/javascript">
    var queue = new EventQueue();

function do5SecondTest(){
    /*
     * Add an action that will execute after 5 seconds.
     */	
    queue.enqueue({
	name: 'Foo:bar', //method bar for module Foo
	timeout: 5,     // Wait 5s before executing
	repeat: true,    // repeat indefinitely
	immediate: true, // start immediately
	action: function(){
	    console.log('Hello, from the future!');
	}		    
    });
}

function kill5SecondTest(){
    //remove all methods related to Foo
    queue.dequeue({name: 'Foo'}); 
}

function doAnnoyingTest(){
    /*
     * Annoyingly, fire an alert every minute
     */
    queue.enqueue({
	name: 'Annoying',
	timeout: 10,
	immediate: true,
	repeat: true,
	action: function(){
	    alert('ack, dequeue me');
	}
    });
}

function killAnnoyingTest(){
    queue.dequeue({name: 'Annoying'});
}
</script>
</head>
<body>
<h1>EventQueue Test Page</h1>
<pre id="out"></pre>
<h2>Add an action that will execute after 30 seconds.</h2>
<input type="button" value="Run 5 second test" onclick="return do5SecondTest();" />
<pre>
queue.enqueue({
    name: 'Foo:bar', //method bar for module Foo
    timeout: 5,      // Wait 5s before executing
    repeat: true,    // repeat indefinitely
    action: function(){
	console.log('Hello, from the future!');
    }		    
});
</pre>
<h2>Remove all methods related to Foo</h2>
<span>Inspect the DOM to see the change.<span>
<input type="button" value="Kill 5 second test" onclick="return kill5SecondTest();" />
<pre>
queue.dequeue({name: 'Foo'}); 
</pre>
<h2>Annoyingly, fire an alert every minute</h2>
<input type="button" value="Run annoying test" onclick="return doAnnoyingTest();" />
<input type="button" value="Kill annoying test" onclick="return killAnnoyingTest();" /><pre>
/*
 * Annoyingly, fire an alert every 10 seconds
 */
queue.enqueue({
    name: 'Annoying',
    timeout: 10,
    repeat: true,
    action: function(){
	alert('ack, dequeue me');
    }
});
</pre>
<hr>
<!-- hhmts start -->Last modified: Thu Aug  8 02:22:33 PDT 2013 <!-- hhmts end -->
</body>
</html>
